<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>index</title>
</head>
<body>
	
	<script src="phen.js"></script>
	<script>
	var b = phen.defer(function (resolve, reject) { 
		setTimeout(function(){
			resolve(3);
		})
	}); 

	b.then(function(v){
		console.log(v); return v + 2;
	}, function(e) {
		console.log("error: " + e);
		return 3;
	}).then(function(v){
		console.log(v);
	}, function(e) {
		console.log("error 2: " + e); 
	});

	// output
	// 3
	// 5

	</script>
</body>
</html>
